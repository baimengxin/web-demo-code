<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const arr = ['nba', 'cba', 'abc']

        // 给数组 arr 创建一个 迭代器
        let index = 0
        const arrsIterator = {
            next: function() {
                // done: boolean
                // value: 具体值/undefined

                // return { done: true, value: undefined }

                if(index < arr.length) {
                    return { done: false, value: arr[index++] }
                } else {
                    return { done: true,  value: undefined }
                }
            }
        }

        
        const value1 = arrsIterator.next()  // { done: false, value: nba }
        const value2 = arrsIterator.next()  // { done: false, value: cba }
        const value3 = arrsIterator.next()  // { done: false, value: abc }
        const value4 = arrsIterator.next()  // { done: true, value: undefined }
        
        console.log(value1);
        console.log(value2);
        console.log(value3);
        console.log(value4);


        // 迭代器（iterator），使用户在容器对象（container，例如链表或数组）上遍访的对象，使用该接口无需关心对象的内部实现细节
        // 从迭代器的定义我们可以看出来，迭代器是帮助我们对某个数据结构进行遍历的对象
        // 在JavaScript中，迭代器也是一个具体的对象，这个对象需要符合迭代器协议（iterator protocol）：
        // 迭代器协议定义了产生一系列值（无论是有限还是无限个）的标准方式；
        // 在JavaScript中这个标准就是一个特定的next方法

        /**
         * next方法有如下的要求：
         *  一个无参数或者一个参数的函数，返回一个应当拥有以下两个属性的对象：
         * 
            done（boolean）
            如果迭代器可以产生序列中的下一个值，则为 false。（这等价于没有指定 done 这个属性。）
            如果迭代器已将序列迭代完毕，则为 true。这种情况下，value 是可选的，如果它依然存在，即为迭代结束之后的默认返回值。
            
            value
            迭代器返回的任何 JavaScript 值。done 为 true 时可省略。
         * 
         * */ 
    

    </script>
</body>
</html>